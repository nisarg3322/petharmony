<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PetHarmony</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles/home.css" />
  </head>

  <body class="d-flex text-center text-white bg-dark">
    <div class="container d-flex w-100 h-100 p-3 mx-auto flex-column">
      <header class="mb-auto">
        <nav class="navbar navbar-expand-lg sticky-top">
          <div class="container-fluid">
            <a class="navbar-brand text-white">PetHarmony</a>
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div
              class="collapse navbar-collapse justify-content-end"
              id="navbarNavAltMarkup"
            >
              <div class="navbar-nav">
                <a class="nav-link current" aria-current="page" href="/"
                  >Home</a
                >
                <a class="nav-link" aria-current="page" href="/posts">Posts</a>
                <% if(!currentUser) { %>
                <a class="nav-link" href="/login">Login</a>
                <a class="nav-link" href="/register">Register</a>

                <% } else { %>
                <a class="nav-link" href="/Logout"
                  >Logout <%= currentUser.firstname %></a
                >

                <% } %>
              </div>
            </div>
          </div>
        </nav>
      </header>
      <%- include('./partials/flash')%>
      <main class="px-3 mb-auto">
        <h1>PetHarmony</h1>
        <p class="lead">
          Welcome to PetHarmony! <br />
          Welcome to our vibrant pet marketplace, where tails wag and hearts
          connect. <br />
          Discover the joy of pet ownership or find top-notch supplies, all in
          one place.
        </p>

        <div class="row justify-content-center">
          <div class="col-md-3">
            <a
              href="/posts"
              class="btn btn-lg btn-secondary font-weight-bold border-white bg-white"
              >View All Posts</a
            >
          </div>

          <% if(currentUser) { %>
          <div class="col-md-3 d-inline">
            <a
              href="/posts/new"
              class="btn btn-lg btn-secondary font-weight-bold border-white bg-white"
              >Create a new posts</a
            >
          </div>
          <div class="col-md-3 d-inline">
            <a
              href="/<%= currentUser._id%>/myposts"
              class="btn btn-lg btn-secondary font-weight-bold border-white bg-white"
              >View my recent posts</a
            >
          </div>
          <% } else { %>
          <div class="col-md-3">
            <form action="/login" method="post">
              <div id="hiddenFields" style="display: none">
                <input
                  id="username"
                  type="hidden"
                  name="username"
                  id="usernameField"
                  value="test"
                />
                <input
                  type="hidden"
                  id="password"
                  name="password"
                  id="passwordField"
                  value="test"
                />
              </div>
              <button
                class="btn btn-lg btn-secondary font-weight-bold border-white bg-primary text-white"
              >
                Login as Test User
              </button>
            </form>
          </div>
          <div class="col-md-3 d-inline">
            <a
              href="/login"
              class="btn btn-lg btn-secondary font-weight-bold border-white bg-white"
              >Login</a
            >
          </div>
          <div class="col-md-3 d-inline">
            <a
              href="/register"
              class="btn btn-lg btn-secondary font-weight-bold border-white bg-white"
              >Register Now!!</a
            >
          </div>
          <% } %>
        </div>
      </main>

      <footer class="footer text-white-50">
        <p>&copy; 2023 PetHarmony</p>
      </footer>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script>
      function capitalizeFirstWord(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      }
    </script>
  </body>
</html>
